<!-- Dashboard Page -->
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>QA Sign Off Dashboard</h2>
    <div>
      <button class="btn btn-primary" ng-click="vm.goToNewSignOff()">New Sign Off</button>
      <button class="btn btn-success ml-2" ng-click="vm.goToKnowledgeShare()">Knowledge Share</button>
      <button class="btn btn-secondary ml-2" ng-click="vm.logout()">Logout</button>
    </div>
  </div>
  
  <div class="row mb-3">
    <div class="col-md-6">
      <input type="text" class="form-control" placeholder="Search..." ng-model="vm.searchText" ng-change="vm.search()" />
    </div>
    <div class="col-md-6">
      <p class="text-right">Welcome, {{vm.currentUser.firstname}} {{vm.currentUser.lastname}}</p>
    </div>
  </div>
  
  <table class="table table-bordered table-hover">
    <thead class="thead-dark">
      <tr>
        <th ng-repeat="col in vm.columns">{{col.label}}</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="row in vm.records">
        <td ng-repeat="col in vm.columns">{{row[col.key]}}</td>
        <td>
          <button class="btn btn-info btn-sm" ng-click="vm.view(row)">View</button>
          <button class="btn btn-warning btn-sm ml-1" ng-if="row.user_id==vm.currentUser.userid" ng-click="vm.edit(row)">Edit</button>
        </td>
      </tr>
      <tr ng-if="vm.records.length === 0">
        <td colspan="{{vm.columns.length + 1}}" class="text-center">No records found</td>
      </tr>
    </tbody>
  </table>
</div>
